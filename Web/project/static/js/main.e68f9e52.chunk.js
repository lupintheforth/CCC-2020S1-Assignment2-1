(this["webpackJsonpcovid19-au-center"]=this["webpackJsonpcovid19-au-center"]||[]).push([[0],{303:function(e,t,n){e.exports=n(585)},312:function(e,t,n){},314:function(e,t,n){},334:function(e,t,n){},384:function(e,t,n){},576:function(e,t,n){},585:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(10),c=n.n(l),o=n(22),i=n(55),u=n(248),s=(n(312),n(313),n(16)),d=n(14),m=n(17),h=n(18);function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:"UPDATE_LOADING_STATUS",payload:{isLoading:e}}}function p(){return function(e){return e(f(!0)),fetch("/api/overview").then((function(e){if(e.ok)return e.json();throw e.statusText})).then((function(t){e(f()),e({type:"OVERVIEW_DATA_RECEIVED",payload:{overviewData:t}})}))}}n(314);var v=Object(o.b)((function(e){return{isLoading:e.loading.isLoading}}))((function(e){var t="spinner-container"+(e.isLoading?"":" hidden");return r.a.createElement("section",{className:t},r.a.createElement("div",{className:"sk-chase"},r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"})))})),E=n(56),b=n(82),_=n(29),O=n(589),S=n(595),y=n(596),g=n(251),A=n.n(g),D=n(252),k=n.n(D),C=(n(334),{ZOOM_BOUNDARY:{min:5,max:12},INITIAL_CENTER:{lng:135.4107,lat:-27.616}}),j={min:4.5,max:12};function T(e,t){try{return e.results.find((function(e){return e.types.find((function(e){return e===t}))}))}catch(n){return null}}function I(e){var t=function(e){return T(e,"administrative_area_level_2")}(e);return t?t.address_components[0].long_name:""}function N(e){var t=function(e){return T(e,"administrative_area_level_1")}(e);return t?t.address_components[0].long_name:""}function w(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"UPDATE_MAP_FULL_SCREEN_STATUS",payload:{isFullScreen:e}}}var P=n(39),F=n.n(P),R=n(594),L=n(588);function U(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"UPDATE_DATE_PICKER_EXPANSION_STATUS",payload:{showDatePicker:e}}}var x=n(93),M=n(593);function z(e){var t=e.onClickHandler;return r.a.createElement(x.a,{icon:r.a.createElement(M.a,null),className:"collapse-btn",onClick:t})}var K=n(592);function Z(e){var t=e.title,n=e.tooltipInfo,a=e.placement,l=void 0===a?"topLeft":a;return r.a.createElement(K.a,{title:n,placement:l},r.a.createElement("h3",null,t))}n(384);var B=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isFullScreen,n=e.showDatePicker,a=e.expandDatePicker,l=e.hideDatePicker,c=e.datesRange,o=e.updateDateRange,i=e.lastClickedInfo,u=r.a.createElement(L.a.RangePicker,{defaultValue:c,onChange:function(e){return o(e)},disabledDate:function(e){return e&&e>F()().endOf("day")}});if(t)return n?r.a.createElement("section",{className:"collapsible-section filter map--fullScreen"},r.a.createElement(z,{onClickHandler:l}),u):r.a.createElement(R.a,{className:"clickable filter map--fullScreen",onClick:a});var s="",d="",m="";if(i&&i.address){var h=i.address;s=function(e){try{return e.results[0].formatted_address}catch(t){return""}}(h),d=I(h),m=N(h)}return r.a.createElement(_.a,{span:12},r.a.createElement(O.a,{hoverable:!0,id:"filter-card",className:"col-6",title:"Filters"},r.a.createElement(O.a,{hoverable:!0,type:"inner",title:r.a.createElement(Z,{title:"Date Range",tooltipInfo:"Please select the date range you want to explore"})},u),r.a.createElement(O.a,{hoverable:!0,type:"inner",title:r.a.createElement(Z,{title:"Location",tooltipInfo:i?"This is the position you clicked on the map.":"By default we will show data within Australia"})},i&&s?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("b",null,"Formatted Address: "),s),d&&r.a.createElement("p",null,r.a.createElement("b",null,"City: ")," ",d),m&&r.a.createElement("p",null,r.a.createElement("b",null,"State: ")," ",m)):r.a.createElement("p",null,"Australia"))))}}]),n}(a.Component),V=Object(o.b)((function(e){var t=e.map,n=t.isFullScreen,a=t.lastClickedInfo,r=e.filter;return{isFullScreen:n,showDatePicker:r.showDatePicker,datesRange:r.datesRange,lastClickedInfo:a}}),(function(e,t){return{expandDatePicker:function(){return e(U())},hideDatePicker:function(){return e(U(!1))},updateDateRange:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"UPDATE_DATE_RANGE",payload:{datesRange:e}}}(t))}}}))(B),H=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).getLocationInfo=function(e){a.props.getTheLocationInfo(e)},a.getLocationInfo=k()(a.getLocationInfo.bind(Object(E.a)(a)),500),a}return Object(d.a)(n,[{key:"render",value:function(){var e=this;console.log("Map, this.props = ",this.props);var t=this.props,n=t.isFullScreen,a=t.enterFullScreen,l=t.exitFullScreen,c=t.updateMapCenterAndZoom,o=(t.lastClickedInfo,S.a),i=l,u=C.ZOOM_BOUNDARY,s={height:"100vh",width:"100%"};n||(o=y.a,i=a,u=j,s={height:"100%",width:"100%"});var d=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:s},r.a.createElement(A.a,{bootstrapURLKeys:{key:"AIzaSyDPvEDDdrknvPKqdpl3lfTv547o2mPltuw"},defaultCenter:this.props.center,defaultZoom:this.props.zoom,options:{gestureHandling:n?"cooperative":"greedy",zoomControl:!1,fullscreenControl:!1,maxZoom:u.max,minZoom:u.min},onChange:function(e){var t=e.zoom,n=e.center;return c(n,t)},onClick:function(t){console.log("onClick trigerred, value =",t),e.getLocationInfo(t)}})),r.a.createElement(o,{className:"clickable map-full-screen-switch",onClick:function(){i()}}),n&&r.a.createElement(V,null));return n?d:r.a.createElement(b.a,{id:"map-container"},r.a.createElement(_.a,{span:12},r.a.createElement(O.a,{hoverable:!0,className:"col-6"},d)),r.a.createElement(V,null))}}]),n}(a.Component),G=Object(o.b)((function(e){var t=e.map,n=t.isFullScreen,a=t.center,r=t.zoom,l=t.lastClickedInfo;return{isFullScreen:n,center:a,zoom:r,overviewData:e.xhr.overviewData,lastClickedInfo:l}}),(function(e){return{enterFullScreen:function(){return e(w(!0))},exitFullScreen:function(){return e(w(!1))},updateMapCenterAndZoom:function(t,n){return e(function(e,t){return{type:"UPDATE_MAP_CENTER_AND_ZOOM",payload:{center:e,zoom:t}}}(t,n))},getTheLocationInfo:function(t){return function(e){var t=e.lat,n=e.lng,a=e.x,r=e.y;return function(e){return fetch(function(e,t){return"".concat("https://maps.googleapis.com/maps/api/geocode/json?latlng=").concat(e,",").concat(t).concat("&key=").concat("AIzaSyDPvEDDdrknvPKqdpl3lfTv547o2mPltuw")}(t,n)).then((function(e){if(e.ok)return e.json();throw e.statusText})).then((function(l){console.log("address =",l),e({type:"UPDATE_LAST_CLICKED_INFO",payload:{lastClickedInfo:{lat:t,lng:n,x:a,y:r,address:l}}})}))}}(t)(e)}}}))(H),X=(n(408),n(26)),q=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(X.b,{width:600,height:250,data:[{name:"Confirmed",value:4e3},{name:"Deaths",value:46},{name:"Cured",value:2612},{name:"Active",value:418}],layout:"vertical"},r.a.createElement(X.c,{strokeDasharray:"3 3"}),r.a.createElement(X.h,{type:"number"}),r.a.createElement(X.i,{dataKey:"name",type:"category",width:80}),r.a.createElement(X.g,null),r.a.createElement(X.a,{dataKey:"value",fill:"#8884d8",barSize:40,animationDuration:4e3,name:"Number"})))}}]),n}(a.Component),W=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=[{name:"Male",value:61779},{name:"Female",value:65070}],t=["#0088FE","#FF8042","#00C49F","#FFBB28"],n=Math.PI/180;return r.a.createElement("div",null,r.a.createElement(X.f,{width:400,height:400},r.a.createElement(X.g,null),r.a.createElement(X.e,{data:e,cx:200,cy:200,labelLine:!1,label:function(e){var t=e.cx,a=e.cy,l=e.midAngle,c=e.innerRadius,o=e.outerRadius,i=e.percent,u=(e.index,c+.5*(o-c)),s=t+u*Math.cos(-l*n),d=a+u*Math.sin(-l*n);return r.a.createElement("text",{x:s,y:d,fill:"white",textAnchor:s>t?"start":"end",dominantBaseline:"central"},"".concat((100*i).toFixed(0),"%"))},outerRadius:80,fill:"#8884d8",dataKey:"value",animationDuration:4e3},e.map((function(e,n){return r.a.createElement(X.d,{key:"cell-".concat(n),fill:t[n%t.length]})})))))}}]),n}(a.Component),Y=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement(b.a,null,r.a.createElement(_.a,{span:12},r.a.createElement(O.a,{hoverable:!0,className:"col-6",title:"Card One"},r.a.createElement(q,null))),r.a.createElement(_.a,{span:12},r.a.createElement(O.a,{hoverable:!0,className:"col-6",title:"Card Two"},r.a.createElement(W,null))))}}]),n}(a.Component),J=(n(576),n(590)),Q=n(591),$=n(597);function ee(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"UPDATE_SEARCH_FIELD_EXPANSION_STATUS",payload:{showSearchInput:e}}}var te=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).__handleSelect=a.__handleSelect.bind(Object(E.a)(a)),a.__handleSearch=a.__handleSearch.bind(Object(E.a)(a)),a}return Object(d.a)(n,[{key:"__handleSelect",value:function(e,t){console.log("in handleSelect, value =",e),console.log("in handleSelect, option =",t)}},{key:"__handleSearch",value:function(e){console.log("in handleSearch, value =",e)}}]),Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.showSearchInput,n=e.expandSearchField,a=e.hideSearchField;return t?r.a.createElement("section",{className:"collapsible-section"},r.a.createElement(z,{onClickHandler:a}),r.a.createElement(J.a,{dropdownMatchSelectWidth:300,style:{width:500},onSelect:this.__handleSelect,onSearch:this.__handleSearch},r.a.createElement(Q.a.Search,{size:"large",placeholder:"Search the location, or tweet user here.",enterButton:!0}))):r.a.createElement($.a,{className:"clickable",onClick:n})}}]),n}(a.Component),ne=Object(o.b)((function(e){return{showSearchInput:e.search.showSearchInput}}),(function(e){return{expandSearchField:function(){return e(ee())},hideSearchField:function(){return e(ee(!1))}}}))(te),ae=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.isFullScreen?"map--fullScreen":"map--card";return r.a.createElement("header",{className:e},r.a.createElement("span",null,"COVID-19 Australia Info Center"),r.a.createElement(ne,null))}}]),n}(a.Component),re=Object(o.b)((function(e){return{isFullScreen:e.map.isFullScreen}}))(ae),le=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.getOverviewData()}},{key:"render",value:function(){this.props.isFullScreen;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement(re,null),r.a.createElement(G,null),r.a.createElement(Y,null))}}]),n}(a.Component),ce=Object(o.b)((function(e){return{isFullScreen:e.map.isFullScreen}}),(function(e){return{getOverviewData:function(){return p()(e)}}}))(le),oe=n(31),ie={isFullScreen:!0,center:C.INITIAL_CENTER,zoom:C.ZOOM_BOUNDARY.min,lastClickedInfo:null};var ue={showSearchInput:!1};var se={isLoading:!1};var de={overviewData:{}};var me={showDatePicker:!1,datesRange:[]};var he=Object(i.c)({map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_MAP_FULL_SCREEN_STATUS":case"UPDATE_MAP_CENTER_AND_ZOOM":case"UPDATE_LAST_CLICKED_INFO":return Object(oe.a)({},e,{},t.payload);default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEARCH_FIELD_EXPANSION_STATUS":return Object(oe.a)({},e,{},t.payload);default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_LOADING_STATUS":return Object(oe.a)({},e,{},t.payload);default:return e}},xhr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OVERVIEW_DATA_RECEIVED":return Object(oe.a)({},e,{},t.payload);default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_DATE_PICKER_EXPANSION_STATUS":case"UPDATE_DATE_RANGE":return Object(oe.a)({},e,{},t.payload);default:return e}}}),fe=Object(i.d)(he,{},Object(i.a)(u.a));c.a.render(r.a.createElement(o.a,{store:fe},r.a.createElement(ce,null)),document.querySelector("#root"))}},[[303,1,2]]]);
//# sourceMappingURL=main.e68f9e52.chunk.js.map